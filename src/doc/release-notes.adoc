== Release Notes

[[v0.5.0]]
=== Styx 0.5.0 - 201X/XX/XX

Highlights:

* New theme: <<themes.generic-templates,generic-templates>>. The generic-templates theme provide a template framework and basic templates for common components.
* <<Debugging,Interactive debugging>>
* <<site.nix,simpler>> `site.nix`
* <<lib.template.parseDate,Content timestamps support time>>
* Improved modularity:
** <<lib.generation.generateSite,Pages generation function can be modified>>
** Configuration files can be functions
** <<Themes.Library,Themes can provide function libraries>>

Bug fixes:

- filename containing spaces are correctly generated.
- `conf.themes` sub attributes are correctly set.

Breaking Changes:

- `site.nix` was refactored
- Themes `theme.nix` file **must** declare a `meta.name` attribute specifying the theme name.
- `lib.pages.setDefaultLayout` was removed (default pages values can be set with the `default` argument of <<lib.generation.pagesToList>>).
- all occurences of `href` in function names / parameters and template variables has been replaced with `path`.

Upgrading:

This release brings few incompatible changes that requires to refactor `site.nix` to upgrade. +
The main changes involve the init section of `site.nix` and `site.nix` returning a set instead of a `generateSite` call and `href` occurrences replaced by `path` (`path` attributes must start with a `/`).


[[v0.4.0]]
=== Styx 0.4.0 - 2016/12/07

Highlights:

- Better integration with the <<NixOps,Nix ecosystem>>, styx sites can be called from nix expressions with `callPackage`
- Themes can be used from the `styx-themes` set of packages
- new `manual` subcommand to open the HTML documentation in a browser

Breaking Changes

- Removal of the `state` variable in `site.nix`
- `site.nix` init section was refactored

This release brings few major breaking changes that make upgrading from 0.3.0 non trivial. +
The main changes involve the init section of `site.nix`.


[[v0.3.0]]
=== Styx 0.3.0 - 2016/10/26

Highlights:

- <<Themes,Themes as first class citizens>>
- link:https://github.com/styx-static/themes[New themes]
- Styx library is automatically bundled
- <<Taxonomies>>
- <<library,New functions in library, new sub libraries>>
- <<Asciidoc,AsciiDoc support>>
- <<Multipages>>
- Easier updates

This release brings many major breaking changes that make upgrading from 0.2.0 non trivial. +
Fortunately, the new features introduced in this release should make future upgrades easy.

[[v0.2.0]]
=== Styx 0.2.0 - 2016/10/10

Highlights:

- Live preview mode for the cli command (<<Live>>)
- Introduction of themes (<<Themes>>)
- Content substitutions (<<Substitutions>>)
- Content metadata (<<Metadata>>)

New features:

- cli command
   - new `preview` subcommand to preview a site locally
   - new `live` subcommand to preview and automatically reload changes
   - `serve` subcommands new flags:
      - `--detach` to launch the server in a background process
      - `--server-host` to specify the server listening hostname
      - `--siteUrl` to override `conf.siteUrl`
   - new `-target` flag to specify the Styx site folder
- content substitutions (<<Substitutions>>)
- themes (<<Themes>>)
- metadata (<<Metadata>>)
- 404 error page template

Incompatible changes:

- `default.nix` was renamed to `site.nix`
- `site.nix` `previewMode` was renamed to `renderDrafts`
- cli `--preview` flag has been renamed to `--drafts`
- `lib.content`: `getPosts`, `getDrafts` and `parsePage` arguments have changed
- `lib.generation`: `generateSite` arguments have changed
- `lib.utils`: `loadTemplateWithEnv` function was removed

Bug Fixes:

- nix link in the default theme layout template
- `styx new` is working when called in empty folders
- default theme archive title is not hardcoded
- default them pagination is displayed only when there is more than one page

This release bring many major changes that make updating from 0.1.0 non-trivial.

To update, it is recommended to generate a new site, create a new theme with customized templates and static files, and update `site.nix` accordingly.


[[v0.1.0]]
=== Styx 0.1.0 - 2016/10/07

Initial release of Styx.
